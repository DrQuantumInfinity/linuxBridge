#include "EspNowData.h"

#include <string.h>
#include <stdlib.h>

/**************************************************************************
 *                                  Constants
 **************************************************************************/
char const * const pDeviceTypeStrings[] = {
    "DHT",
    "MOTION",
    "BOOL",
    "TOGGLE",
    "LIGHT_ON_OFF",
    "LIGHT_DIMMER",
    "LIGHT_RGB",
    "LIGHT_TEMP",
    "LIGHT_TEMP_RGB",
};
/**************************************************************************
 *                                  Macros
 **************************************************************************/
#ifndef ArraySize
#define ArraySize(a) (sizeof(a) / sizeof((a)[0]))
#endif
/**************************************************************************
 *                                  Types
 **************************************************************************/
/**************************************************************************
 *                                  Prototypes
 **************************************************************************/
/**************************************************************************
 *                                  Variables
 **************************************************************************/
/**************************************************************************
 *                                  Global Functions
 **************************************************************************/
static_assert(ArraySize(pDeviceTypeStrings) == ESP_NOW_DEVICE_TYPE_COUNT);

const char* EspNowGetName(const ESP_NOW_DATA* pDev)
{
    const char* pRetVal = "UNKNOWN";
    if (pDev->type < ArraySize(pDeviceTypeStrings))
    {
        pRetVal = pDeviceTypeStrings[pDev->type];
    }
    return pRetVal;
}
/**************************************************************************
 *                                  Private Functions
 **************************************************************************/